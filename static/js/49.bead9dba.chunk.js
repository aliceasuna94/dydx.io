(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{2245:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var r=n(6),a=n.n(r),o=n(22);function asyncGeneratorStep(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function _next(e){asyncGeneratorStep(o,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,r,a,_next,_throw,"throw",e)}_next(void 0)})}}const i=Object(o.createAsyncAction)("SEND_VERIFICATION_EMAIL",({walletAddress:e,emailAddress:t})=>({meta:{walletAddress:e},makeRequest:function(){var n=_asyncToGenerator(function*(){const n=yield fetch("https://api.dydx.exchange/v1/user/send-verification-email",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:e,emailAddress:t})});return new Promise((e,t)=>{n.ok&&a()([200,201],n.status)?e():t(new Error("Failed to send verification email"))})});return function makeRequest(){return n.apply(this,arguments)}}()})),c=Object(o.createAsyncAction)("VERIFY_EMAIL",({token:e})=>({makeRequest:function(){var t=_asyncToGenerator(function*(){const t=yield fetch(`https://api.dydx.exchange/v1/user/verify-email?token=${e}`);let n;try{n=yield t.json()}catch(r){}return new Promise((e,r)=>{t.ok&&a()([200,201],t.status)?e():r(n)})});return function makeRequest(){return t.apply(this,arguments)}}()}))},2464:function(e,t,n){e.exports={loading:"_2FNVFMF9YIIz0J2_yAvHdz",marginBottom:"_3L4r06sTOQQSoTlF-HMeks",icon:"_12TEziWyj_Dkma-w83mxoA"}},2515:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),o=n(0),i=n.n(o),c=n(1),s=n.n(c),l=n(60),u=n(52),d=n(74),y=n(31),f=n(149),m=n(79),p=n(98),E=n(2245),_=n(45),v=n(38),h=n(5),I=n(2464),w=n.n(I);function asyncGeneratorStep(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const T="InvalidVerificationTokenError",A="ExpiredVerificationEmailError",k=({stringGetter:e,closeModal:t,token:n,verifyEmail:r,openModal:c})=>{const s=_slicedToArray(Object(o.useState)(!0),2),l=s[0],u=s[1],d=_slicedToArray(Object(o.useState)(),2),E=d[0],_=d[1],I=function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function _next(e){asyncGeneratorStep(o,r,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,r,a,_next,_throw,"throw",e)}_next(void 0)})}}(function*(){try{yield r({token:n})}catch(t){const n=a()(t,"errors[0].name");let r;r=e(n===T?{key:h.a.INVALID_VERIFICATION_TOKEN}:n===A?{key:h.a.EXPIRED_VERIFICATION_TOKEN}:{key:h.a.SOMETHING_WENT_WRONG}),_(r)}u(!1)});return function sendVerifyEmail(){return t.apply(this,arguments)}}();return Object(o.useEffect)(()=>{I()},[]),l?i.a.createElement("div",{className:w.a.loading},i.a.createElement(f.a,null)):i.a.createElement("div",{className:w.a.emailVerificationModal},i.a.createElement("div",{className:w.a.marginBottom},i.a.createElement(p.d,null,E?i.a.createElement(y.a,{className:w.a.icon}):i.a.createElement(y.F,{className:w.a.icon}),i.a.createElement(m.d,{wide:!0,className:w.a.title},E||e({key:h.a.EMAIL_VERIFIED})))),i.a.createElement(p.c,null,i.a.createElement(p.b,{onClick:t},e({key:h.a.CLOSE})),i.a.createElement(p.b,{onClick:()=>{c({type:v.a.EMAIL_NOTIFICATIONS}),t()}},e({key:h.a.EDIT_SETTINGS}))))};k.propTypes={closeModal:s.a.func.isRequired,openModal:s.a.func.isRequired,stringGetter:s.a.func.isRequired,token:s.a.string.isRequired,verifyEmail:s.a.func.isRequired};var b=Object(d.k)(Object(u.c)(null,e=>Object(l.b)({openModal:_.c,verifyEmail:E.b},e))(k));n.d(t,"default",function(){return b})}}]);