(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{2246:function(e,t,a){"use strict";a.d(t,"a",function(){return n});const n={REFERRAL:"referral",USER_FEEDBACK_EMAIL:"user-feedback-email"}},2469:function(e,t,a){e.exports={title:"_2HNF5jkJEkkLV7crB-KHFL",mailIcon:"_2oklibmdCVJu8ZWsoewx-Z"}},2520:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(1),c=a.n(l),o=a(60),i=a(52),s=a(302),u=a(74),d=a(31),E=a(286),y=a(2127),b=a(618),_=a(344),A=a(79),m=a(207),S=a(33),f=a(150),g=a(5),p=a(2246),w=a(170),I=a(191),k=a(2469),v=a.n(k);function asyncGeneratorStep(e,t,a,n,r,l,c){try{var o=e[l](c),i=o.value}catch(s){return void a(s)}o.done?t(i):Promise.resolve(i).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var l=e.apply(t,a);function _next(e){asyncGeneratorStep(l,n,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(l,n,r,_next,_throw,"throw",e)}_next(void 0)})}}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(i){r=!0,l=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const C=({stringGetter:e,closeModal:t,setWalletData:a,walletAddress:l,walletType:c,legacySigning:o})=>{const i=_slicedToArray(Object(n.useState)(),2),u=i[0],m=i[1],S=_slicedToArray(Object(n.useState)(),2),k=S[0],C=S[1],T=_slicedToArray(Object(n.useState)(!1),2),j=T[0],O=T[1];return r.a.createElement("div",{className:v.a.userFeedbackEmailModal},r.a.createElement(_.c,null,r.a.createElement(A.d,{className:v.a.title},r.a.createElement("div",{className:v.a.mailIcon},r.a.createElement(d.Q,null)),e({key:g.a.EMAIL})),r.a.createElement(y.c,{grey:!0,noPadding:!0,className:v.a.emailInput,size:y.a.MEDIUM,label:e({key:g.a.EMAIL})},r.a.createElement(b.a,{noMargins:!0,textInput:!0,value:u,onChange:t=>{t&&""!==t&&!Object(I.g)(t)?C(e({key:g.a.INVALID_EMAIL})):C(),m(t)},placeholder:"example@email.com"})),k&&r.a.createElement(A.a,null,k)),r.a.createElement(_.b,null,r.a.createElement(_.a,{onClick:t},"Cancel"),r.a.createElement(_.a,{green:!0,loading:j,disabled:k||!u||""===u,onClick:_asyncToGenerator(function*(){O(!0);try{yield a({walletAddress:l,walletType:c,legacySigning:o,data:{[f.e.USER_FEEDBACK_EMAIL]:{value:u,allowPublicRead:f.d[f.e.USER_FEEDBACK_EMAIL]},[f.e.HAS_SET_USER_FEEDBACK_EMAIL]:{value:!0,allowPublicRead:f.d[f.e.HAS_SET_USER_FEEDBACK_EMAIL]},trackingId:p.a.USER_FEEDBACK_EMAIL}})}catch(n){if(Object(w.g)(n))C(e({key:g.a.UNAUTHORIZED_SIGNATURE}));else{const t=Object(w.j)({error:n,walletAddress:l,walletType:c,location:"user-feedback-email-modal",stringGetter:e}).message;C(t)}return void O(!1)}Object(s.b)(({closeToast:t})=>Object(E.b)({toastType:E.a.SUCCESS,title:e({key:g.a.SUCCESS}),body:e({key:g.a.FEEDBACK_EMAIL_SUCCESS}),onClose:t})),t()})},e({key:g.a.CONFIRM}))))};C.propTypes={closeModal:c.a.func.isRequired,stringGetter:c.a.func.isRequired,legacySigning:c.a.bool,setWalletData:c.a.func.isRequired,walletAddress:c.a.string,walletType:c.a.string};var T=Object(u.k)(Object(i.c)(e=>({legacySigning:Object(S.i)(e),walletAddress:Object(S.m)(e),walletType:Object(S.q)(e)}),e=>Object(o.b)({setWalletData:m.b},e))(C));a.d(t,"default",function(){return T})}}]);