(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{2130:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),i=a.n(o),l=a(19),s=a.n(l),c=a(2139),d=a.n(c),u=a(384),p=a(2128),m=a(620);a(2159);const b=({className:e,children:t})=>r.a.createElement("div",{className:s()("new-table",e)},t);b.propTypes={className:i.a.string,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]).isRequired};const f=({children:e,className:t,expandable:a,expandableContent:n,highlighted:o,hoverContent:i,isExpanded:l,isGreyedOut:c,isLoading:p,leftBorderGreen:b,leftBorderRed:f,noLoadingCell:y,onClick:g,useLegacyStyles:w=!1,useModuleStyles:O=!1})=>r.a.createElement("div",{tabIndex:0,role:"button",className:s()("row-container",t,{"row-container__highlight":o,"row-container__hover":a,"row-container__expanded":l,"row-container__loading":p,"row-container__greyed-out":c,"row-container__left-border-red":f,"row-container__left-border-green":b,"row-container__module-styles":O,"row-container__legacy-styles":w}),onClick:g},r.a.createElement("div",{className:s()("row",{"row__module-styles":O})},r.a.createElement("div",{className:s()("row-content",{"row-content__loading":p,"row-content__greyed-out":c})},e),!y&&r.a.createElement(h,{className:"loading-cell"},p&&r.a.createElement(u.a,null))),a&&r.a.createElement(d.a,{isOpened:l},r.a.createElement("div",{className:"expandable-row"},n)),!p&&(i||a)&&r.a.createElement("div",{className:s()("hover-content-container",{"hover-content-container__with-gradient":!!i})},r.a.createElement("div",{className:"hover-content"},i,a&&r.a.createElement("div",{className:"expandable-row-icon-container"},r.a.createElement("div",{className:s()("expandable-row-icon",{"expandable-row-icon__expanded":l})},r.a.createElement(m.a,null)))))," ");f.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]).isRequired,className:i.a.string,expandable:i.a.bool,expandableContent:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),highlighted:i.a.bool,hoverContent:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),isExpanded:i.a.bool,isGreyedOut:i.a.bool,isLoading:i.a.bool,leftBorderGreen:i.a.bool,leftBorderRed:i.a.bool,noLoadingCell:i.a.bool,onClick:i.a.func,useLegacyStyles:i.a.bool,useModuleStyles:i.a.bool};const h=({children:e,className:t,marketSymbol:a,isTitle:n,label:o,green:i,red:l,orange:c,grey:d,stacked:u,uppercase:m,width:b})=>r.a.createElement("div",{className:s()("cell",t,{cell__title:n,cell__stacked:u,"cell__with-label":o,cell__uppercase:m,red:l,green:i,orange:c,grey:d}),style:{flexBasis:b}},o&&r.a.createElement("div",{className:"label"},o),a&&r.a.createElement("div",{className:"currency-icon-container"},r.a.createElement("div",{className:`currency-icon-${a.toLowerCase()}`},r.a.createElement(p.a,{symbol:a}))),e);h.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),className:i.a.string,marketSymbol:i.a.string,isTitle:i.a.bool,label:i.a.oneOfType([i.a.string,i.a.node]),green:i.a.bool,red:i.a.bool,orange:i.a.bool,grey:i.a.bool,stacked:i.a.bool,uppercase:i.a.bool,width:i.a.string},a.d(t,"c",function(){return b}),a.d(t,"b",function(){return f}),a.d(t,"a",function(){return h})},2136:function(e,t,a){"use strict";var n=a(55),r=a.n(n),o=a(0),i=a.n(o),l=a(1),s=a.n(l),c=a(19),d=a.n(c),u=a(74),p=a(2138),m=a(2123),b=a(2130),f=a(2160),h=a.n(f);const y=({headerConfig:e,useModuleStyles:t,stringGetter:a})=>i.a.createElement(b.b,{useModuleStyles:t},r()(e,({titleKey:e,titleBottomKey:t,width:n,tooltip:r,tooltipBottom:o,tag:l})=>{const s=a({key:e}),c=t?a({key:t}):void 0;if(!c&&!r)return i.a.createElement(b.a,{isTitle:!0,key:s,width:n},l?i.a.createElement(p.a,{tag:l},s):s);const u=r?i.a.createElement(m.a,{className:d()({[h.a.doubleTooltip]:!!c}),top:r.top||8,left:r.left||-36,tooltip:r.name,stringParams:r.stringParams},s):i.a.createElement("div",{className:h.a.doubleTooltip},s);let f;c&&(f=o?i.a.createElement(m.a,{className:h.a.doubleTooltip,top:o.top||8,left:o.left||-36,tooltip:o.name,stringParams:r.stringParams},c):i.a.createElement("div",{className:h.a.doubleTooltip},c));const y=i.a.createElement("div",{className:d()(h.a.title,{[h.a.doubleTitle]:!!c})},u,c?i.a.createElement("span",null,"/"):null,f);return i.a.createElement(b.a,{isTitle:!0,key:s,width:n},l?i.a.createElement(p.a,{tag:l},y):y)}));y.propTypes={headerConfig:s.a.arrayOf(s.a.shape({titleKey:s.a.string.isRequired,titleBottomKey:s.a.string,width:s.a.string.isRequired,tag:s.a.oneOfType([s.a.string,s.a.node]),tooltip:s.a.shape({top:s.a.number,left:s.a.number,name:s.a.string.isRequired,stringParams:s.a.object}),tooltipBottom:s.a.shape({top:s.a.number,left:s.a.number,name:s.a.string.isRequired,stringParams:s.a.object})})).isRequired,stringGetter:s.a.func,useModuleStyles:s.a.bool};var g=Object(u.k)(y);a.d(t,"a",function(){return g})},2138:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),i=a.n(o),l=a(19),s=a.n(l),c=a(2145),d=a.n(c);const u=({tag:e,children:t,extraSpacing:a})=>r.a.createElement(n.Fragment,null,t,e&&r.a.createElement("div",{className:s()(d.a.tag,{[d.a.extraSpacing]:a})},e));u.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]).isRequired,extraSpacing:i.a.bool,tag:i.a.oneOfType([i.a.string,i.a.node])};var p=u;a.d(t,"a",function(){return p})},2139:function(e,t,a){"use strict";var n=a(2140).Collapse,r=a(2158).UnmountClosed;e.exports=r,r.Collapse=n,r.UnmountClosed=r},2140:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=void 0;var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(a(0));function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=function(t){function Collapse(t){var a;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Collapse),a=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(Collapse).call(this,t)),_defineProperty(_assertThisInitialized(a),"timeout",void 0),_defineProperty(_assertThisInitialized(a),"container",void 0),_defineProperty(_assertThisInitialized(a),"content",void 0),_defineProperty(_assertThisInitialized(a),"onResize",function(){if(e.clearTimeout(a.timeout),a.container&&a.content){var t=a.props,n=t.isOpened,r=t.checkTimeout,o=a.container.clientHeight,i=a.content.clientHeight,l=n&&i===o,s=!n&&0===o;l||s?a.onRest({isFullyOpened:l,isFullyClosed:s,isOpened:n,containerHeight:o,contentHeight:i}):(a.onWork({isFullyOpened:l,isFullyClosed:s,isOpened:n,containerHeight:o,contentHeight:i}),a.timeout=setTimeout(function(){return a.onResize()},r))}}),_defineProperty(_assertThisInitialized(a),"onRest",function(e){var t=e.isFullyOpened,n=e.isFullyClosed,r=e.isOpened,o=e.containerHeight,i=e.contentHeight;if(a.container&&a.content){var l=r&&a.container.style.height==="".concat(i,"px"),s=!r&&"0px"===a.container.style.height;if(l||s){a.container.style.overflow=r?"initial":"hidden",a.container.style.height=r?"auto":"0px";var c=a.props.onRest;c&&c({isFullyOpened:t,isFullyClosed:n,isOpened:r,containerHeight:o,contentHeight:i})}}}),_defineProperty(_assertThisInitialized(a),"onWork",function(e){var t=e.isFullyOpened,n=e.isFullyClosed,r=e.isOpened,o=e.containerHeight,i=e.contentHeight;if(a.container&&a.content){var l=r&&a.container.style.height==="".concat(i,"px"),s=!r&&"0px"===a.container.style.height;if(!l&&!s){a.container.style.overflow="hidden",a.container.style.height=r?"".concat(i,"px"):"0px";var c=a.props.onWork;c&&c({isFullyOpened:t,isFullyClosed:n,isOpened:r,containerHeight:o,contentHeight:i})}}}),_defineProperty(_assertThisInitialized(a),"onRefContainer",function(e){a.container=e}),_defineProperty(_assertThisInitialized(a),"onRefContent",function(e){a.content=e}),t.initialStyle?a.initialStyle=t.initialStyle:a.initialStyle=t.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},a}return function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Collapse,n["default"].Component),function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(Collapse,[{key:"componentDidMount",value:function componentDidMount(){this.onResize()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){var t=this.props,a=t.theme,n=t.isOpened;return t.children!==e.children||n!==e.isOpened||Object.keys(a).some(function(t){return a[t]!==e.theme[t]})}},{key:"getSnapshotBeforeUpdate",value:function getSnapshotBeforeUpdate(){if(!this.container||!this.content)return null;if("auto"===this.container.style.height){var e=this.content.clientHeight;this.container.style.height="".concat(e,"px")}return null}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.onResize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){e.clearTimeout(this.timeout)}},{key:"render",value:function render(){var e=this.props,t=e.theme,a=e.children;return n.default.createElement("div",{ref:this.onRefContainer,className:t.collapse,style:this.initialStyle},n.default.createElement("div",{ref:this.onRefContent,className:t.content},a))}}]),Collapse}();t.Collapse=r,_defineProperty(r,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50})}).call(this,a(36))},2145:function(e,t,a){e.exports={tag:"_2ukp2icrWLdgvD3odSm2Hm",extraSpacing:"_18tcZvIMJWLJT8DSy4PNW3"}},2146:function(e,t,a){},2152:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),i=a.n(o),l=a(52),s=a(60),c=a(19),d=a.n(c),u=a(74),p=a(384),m=a(190),b=a(45),f=a(33),h=a(44),y=a(296),g=a(102),w=a(24),O=a(5),E=a(38);a(2146);const v=({areAccountsLoaded:e,arePerpBalancesLoaded:t,arePerpMarketsLoaded:a,currentPair:{type:n},isBorrowPage:o,isPerpPage:i,isTradePage:l,isWalletConnecting:s,isWalletIncorrectNetwork:c,isWalletInvalid:u,isWalletReady:b,openModal:f,stringGetter:h,withBorder:y})=>{const g=d()("component-sidebar-wallet-ctas",{"component-sidebar-wallet-ctas__with-border":y,"component-sidebar-wallet-ctas__trade":l,"component-sidebar-wallet-ctas__perp":i,"component-sidebar-wallet-ctas__spot":!o&&n===w.d.SPOT});return c?r.a.createElement("div",{className:g},r.a.createElement("div",{className:"cta-content"},h({key:O.a.CHANGE_NETWORK_REQUEST}))):!s&&u?r.a.createElement("div",{className:g},r.a.createElement("div",{className:"cta-content"},h({key:O.a.GET_STARTED_DESCRIPTION})),r.a.createElement("div",null,r.a.createElement(m.g,{blue:!0,className:"connect-wallet-button",onClick:()=>f({type:E.a.CONNECT_WALLET})},h({key:O.a.CONNECT_WALLET})))):!s&&b&&(i?a&&t:e)?null:r.a.createElement("div",{className:g},r.a.createElement("div",{className:"cta-content"},r.a.createElement(p.a,null)))};v.defaultProps={withBorder:!0},v.propTypes={areAccountsLoaded:i.a.bool.isRequired,arePerpBalancesLoaded:i.a.bool.isRequired,arePerpMarketsLoaded:i.a.bool.isRequired,currentPair:i.a.object.isRequired,isBorrowPage:i.a.bool,isPerpPage:i.a.bool,isTradePage:i.a.bool,isWalletConnecting:i.a.bool.isRequired,isWalletIncorrectNetwork:i.a.bool.isRequired,isWalletInvalid:i.a.bool.isRequired,isWalletReady:i.a.bool.isRequired,openModal:i.a.func.isRequired,stringGetter:i.a.func.isRequired,withBorder:i.a.bool};var k=Object(u.k)(Object(l.c)(e=>({areAccountsLoaded:Object(g.i)(e),arePerpBalancesLoaded:Object(y.c)(e),arePerpMarketsLoaded:Object(y.d)(e),currentPair:Object(h.e)(e),isWalletConnecting:Object(f.e)(e),isWalletIncorrectNetwork:Object(f.f)(e),isWalletInvalid:Object(f.g)(e),isWalletReady:Object(f.h)(e)}),e=>Object(s.b)({openModal:b.c},e))(v));a.d(t,"a",function(){return k})},2158:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnmountClosed=void 0;var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(2140);function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _objectWithoutProperties(e,t){if(null==e)return{};var a,n,r=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e){function UnmountClosed(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnmountClosed),t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(UnmountClosed).call(this,e)),_defineProperty(_assertThisInitialized(t),"onWork",function(e){var a=e.isOpened,n=_objectWithoutProperties(e,["isOpened"]);t.setState({isResting:!1,isOpened:a});var r=t.props.onWork;r&&r(_objectSpread({isOpened:a},n))}),_defineProperty(_assertThisInitialized(t),"onRest",function(e){var a=e.isOpened,n=_objectWithoutProperties(e,["isOpened"]);t.setState({isResting:!0,isOpened:a,isInitialRender:!1});var r=t.props.onRest;r&&r(_objectSpread({isOpened:a},n))}),_defineProperty(_assertThisInitialized(t),"getInitialStyle",function(){var e=t.state,a=e.isOpened;return e.isInitialRender&&a?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}}),t.state={isResting:!0,isOpened:e.isOpened,isInitialRender:!0},t}return function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(UnmountClosed,n["default"].PureComponent),function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(UnmountClosed,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.isOpened;e.isOpened!==t&&this.setState({isResting:!1,isOpened:t,isInitialRender:!1})}},{key:"render",value:function render(){var e=this.state,t=e.isResting,a=e.isOpened;return t&&!a?null:n.default.createElement(r.Collapse,_extends({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),UnmountClosed}();t.UnmountClosed=o,_defineProperty(o,"defaultProps",{onWork:void 0,onRest:void 0})},2159:function(e,t,a){},2160:function(e,t,a){e.exports={title:"_1PdUqVekrSRpvnWjZzeVrE",doubleTitle:"wSdqhEheF-kdmofL9_n5G",doubleTooltip:"_1t07aupEV6Hw8ag1Rwh-TC"}},2184:function(e,t,a){"use strict";var n=a(79);a.d(t,"g",function(){return n.h}),a.d(t,"h",function(){return n.i}),a.d(t,"f",function(){return n.g}),a.d(t,"c",function(){return n.d}),a.d(t,"d",function(){return n.e}),a.d(t,"b",function(){return n.b}),a.d(t,"a",function(){return n.a}),a.d(t,"e",function(){return n.f})},2342:function(e,t,a){},2343:function(e,t,a){},2344:function(e,t,a){},2350:function(e,t,a){},2502:function(e,t,a){"use strict";a.r(t);var n=a(55),r=a.n(n),o=a(0),i=a.n(o),l=a(1),s=a.n(l),c=a(52),d=a(19),u=a.n(d),p=a(230),m=a.n(p),b=a(74),f=a(118),h=a.n(f),y=a(90),g=a.n(y),w=a(231),O=a.n(w),E=a(60),v=a(384),k=a(2123),_=a(2136),j=a(190),R=a(2130),C=a(45),P=a(102),A=a(33),T=a(616),S=a(26),N=a(5),M=a(61),B=a(38),x=a(57),W=a(614),I=a(191),L=a(10);a(2342);const D=[{titleKey:N.a.ASSET,width:"16%"},{titleKey:N.a.BALANCE,width:"24%",tooltip:{name:"balances-asset-balance",left:45}},{titleKey:N.a.INTEREST_APR,width:"24%",tooltip:{name:"balances-interest-rate",left:135}},{titleKey:N.a.VALUE,width:"24%",tooltip:{name:"balances-asset-value",left:30}},{titleKey:N.a.EXPIRY,width:"12%",tooltip:{name:"expiration",left:30}}];class q extends o.Component{constructor(e){super(e),this.onClickRow=(e=>{this.state.expandedAsset===e?this.setState({expandedAsset:null}):this.setState({expandedAsset:e})}),this.state={expandedAsset:null}}renderTableRow({market:e,balance:t={},expiration:a,isPending:n}){const r=this.props,l=r.openModal,s=r.stringGetter,c=this.state.expandedAsset,d=e.symbol,p=e.wholeTokenPriceInUSD,b=e.currency,f=e.totalBorrowAPR,h=Object(L.a)(p).toFormat(M.p),y=Object(I.e)(t.wei,b.decimals),g=n&&t.wei.gt(0)?"+":"",w=new x.a(t.wei,e).getFormattedValueString(),E=Object(W.c)({expiration:a,stringGetter:s}),v=E.timeString,_=E.unitString,C=E.hasExpirationWarning,P=i.a.createElement(o.Fragment,null,i.a.createElement(R.a,{label:i.a.createElement(k.a,{top:-16,left:24,tooltip:"balances-price"},s({key:N.a.PRICE}))},i.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:h,prefix:"$"})));let A;return A=v?i.a.createElement(R.a,{className:u()({red:C}),width:D[4].width},i.a.createElement(k.a,{className:"cell-tooltip",top:12,left:-36,tooltip:"exact-expiration",stringParams:{EXPIRATION:a.toFormat("DD TTT")}},`${v} ${_}`)):i.a.createElement(R.a,{width:D[4].width},"-"),i.a.createElement(R.b,{key:d+y,expandable:!0,isExpanded:c===e.symbol&&!n,expandableContent:P,hoverContent:i.a.createElement(R.a,null,i.a.createElement(j.g,{className:"deposit-withdraw-button",onClick:t=>{t.stopPropagation(),l({type:B.a.REPAY,props:{market:e}})}},s({key:N.a.REPAY}))),onClick:n?O.a:()=>this.onClickRow(e.symbol),isLoading:n},i.a.createElement(R.a,{width:D[0].width,marketSymbol:d},d),i.a.createElement(R.a,{width:D[1].width},i.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:y||"0.0000",prefix:`${g}`})),i.a.createElement(R.a,{uppercase:!0,width:D[2].width},`${s({key:N.a.PAYING})} ${Object(L.a)(f).times(100).toFixed(M.d)}%`),i.a.createElement(R.a,{width:D[3].width},i.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:w||"0.00",prefix:`${g}$`})),A)}renderTableRows(){const e=this.props,t=e.outstandingBorrows,a=e.pendingRepays,n=e.pendingBorrows,o=e.getMarketById,l=e.getAccountExpiration,s=e.stringGetter,c=[...r()(n,({withdrawMarket:e,withdrawAmount:t})=>this.renderTableRow({market:e,balance:{wei:t.times(-1)},isPending:!0})),...r()(a,({market:e,amount:t})=>this.renderTableRow({market:e,balance:{wei:t},isPending:!0})),...r()(t,(e,t)=>{const a=o(t);return this.renderTableRow({market:a,balance:e,expiration:l(a)})})];return g()(t)&&g()([...n,...a])?i.a.createElement("div",{className:"no-borrows"},s({key:N.a.EMPTY_BORROWS})):c}render(){const e=this.props,t=e.isWalletConnecting,a=e.isWalletInvalid,n=e.areWalletBalancesLoaded,r=e.stringGetter,o=t||!a&&!n;return i.a.createElement("div",{className:"outstanding-borrows"},i.a.createElement("div",{className:"header"},r({key:N.a.OUTSTANDING_BORROWS})),i.a.createElement(R.c,{className:"content"},i.a.createElement(_.a,{headerConfig:h()(D)}),o?i.a.createElement("div",{className:"loading"},i.a.createElement(v.a,null)):this.renderTableRows()))}}q.propTypes={areWalletBalancesLoaded:s.a.bool.isRequired,getAccountExpiration:s.a.func.isRequired,getMarketById:s.a.func.isRequired,isWalletConnecting:s.a.bool.isRequired,isWalletInvalid:s.a.bool.isRequired,openModal:s.a.func.isRequired,outstandingBorrows:s.a.object,pendingBorrows:s.a.array.isRequired,pendingRepays:s.a.array.isRequired,stringGetter:s.a.func.isRequired};var G=Object(b.k)(Object(c.c)(e=>({areWalletBalancesLoaded:Object(A.a)(e),getAccountExpiration:t=>Object(P.o)(e,t),getMarketById:t=>Object(S.f)(e,t),isWalletConnecting:Object(A.e)(e),isWalletInvalid:Object(A.v)(e),outstandingBorrows:Object(P.j)(e),pendingBorrows:Object(T.c)(e),pendingRepays:Object(T.f)(e)}),e=>Object(E.b)({openModal:C.c},e))(q)),U=a(67),z=a.n(U),F=a(37),H=a.n(F),K=a(9),$=a.n(K),Y=a(2184),V=a(2128),Z=a(617),J=a(2144),X=a(2135),Q=a(622),ee=a(618),te=a(49),ae=a(297),ne=a(11),re=a(46),oe=a(391),ie=a(170),le=a(2);a(2343);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function asyncGeneratorStep(e,t,a,n,r,o,i){try{var l=e[o](i),s=l.value}catch(c){return void a(c)}l.done?t(s):Promise.resolve(s).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var o=e.apply(t,a);function _next(e){asyncGeneratorStep(o,n,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,r,_next,_throw,"throw",e)}_next(void 0)})}}class se extends o.Component{constructor(e){var t;super(e),t=this,this.handleOnChange=(()=>{const e=this.state,t=e.borrowAmount,a=e.depositAmount,n=e.selectedDepositMarket;(0,this.props.onChange)({borrowAmount:t,depositAmount:a,depositMarket:n})}),this.onChangeBorrowInput=((e,t)=>{const a=this.state,n=a.selectedDepositMarket,r=a.depositAmount,o=this.props,i=o.market,l=o.getRequiredDeposit,s=$.a.maximum(l({newDebt:new x.a(Object(L.a)(e),i),targetCollateralization:ne.b,depositMarket:n}),r),c=this.getIsCollMarketAllowanceSet()&&e.gt(0)&&s.gt(0),d=c?Object(re.a)(s,n.currency.decimals).toFixed(M.n):"";this.setState({borrowAmount:e,borrowAmountString:t,depositAmount:c?s:le.a.ZERO,depositAmountNaturalValue:d,error:null},this.handleOnChange)}),this.onChangeDepositInput=((e,t)=>{this.setState({depositAmount:e,depositAmountNaturalValue:t},this.handleOnChange)}),this.onChangeCollMarketId=(e=>{const t=(0,this.props.getMarketById)(e);this.setState({depositAmount:le.a.ZERO,depositAmountNaturalValue:"",selectedDepositMarket:t},this.handleOnChange)}),this.onClickMax=(()=>{const e=this.state,t=e.depositAmount,a=e.selectedDepositMarket,n=this.props,r=n.market,o=(0,n.getTotalBorrowable)(ne.b,t.gt(0)?Object(re.a)(t,a.currency.decimals).times(a.wholeTokenPriceInUSD):le.a.ZERO),i=Object(I.e)(o,r.currency.decimals);this.setState({borrowAmount:o,borrowAmountString:i,error:null},this.handleOnChange)}),this.onClickEnableCta=_asyncToGenerator(function*(){const e=t.state.selectedDepositMarket,a=t.props,n=a.walletAddress,r=a.setAllowance;let o=null;if(t.getIsCollMarketAllowanceSet()||(o=e),o){t.setState({isEnableLoading:!0,setAllowanceMarket:o});try{yield r(o.currency.contractAddress,n)}catch(i){return void t.setState({isEnableLoading:!1,setAllowanceMarket:null})}t.setState({isEnableLoading:!1})}}),this.onClickBorrowCta=_asyncToGenerator(function*(){const e=t.props,a=e.accountBalance,n=e.closeModal,r=e.depositThenWithdraw,o=e.getDepositFromAddress,i=e.market,l=e.stringGetter,s=e.walletAddress,c=e.walletType,d=e.withdrawToAddress,u=t.state,p=u.borrowAmount,m=u.depositAmount,b=u.selectedDepositMarket;t.setState({isLoading:!0});try{yield r({depositMarket:b,depositFromAddress:o(b),depositAmount:m,withdrawMarket:i,withdrawToAddress:d,withdrawAmount:p,walletAddress:s,walletType:c,isBorrow:p.gt(a.wei)}),n()}catch(f){const e=Object(ie.j)({error:f,walletAddress:s,walletType:c,location:"borrow-modal",stringGetter:l}).message;t.setState({isLoading:!1,error:e})}}),this.state=_objectSpread({},this.getDefaultState())}componentDidUpdate(e){const t=e.market,a=this.props.market;t.id!==a.id&&this.setState(_objectSpread({},this.getDefaultState()),this.handleOnChange)}getDefaultState(){const e=this.props,t=e.market,a=e.markets,n=H()(a,({id:e})=>e!==t.id);return{isLoading:!1,isEnableLoading:!1,error:null,setAllowanceMarket:null,borrowAmount:le.a.ZERO,borrowAmountString:"",depositAmount:le.a.ZERO,depositAmountNaturalValue:"",selectedDepositMarket:n}}getIsCollMarketAllowanceSet(){const e=this.state.selectedDepositMarket,t=this.props,a=t.getIsEth,n=t.getTokenProtocolAllowance;return a(e)||n(e).gt(0)}getNewCollateralization(){const e=this.state,t=e.borrowAmount,a=e.depositAmount,n=e.selectedDepositMarket,r=this.props,o=r.market;return(0,r.getNewCollateralizationWithDeposit)([new x.a(Object(L.a)(-1).times(t),o),new x.a(a,n)])}getIsCtaEnabled(){const e=this.state,t=e.borrowAmount,a=e.selectedDepositMarket,n=e.depositAmount,r=this.props,o=r.walletAddress,i=(0,r.getWalletBalanceByMarket)(a);return!!o&&(!!t.gt(le.a.ZERO)&&(!i.lt(n)&&!this.getNewCollateralization().lt(ne.b)))}renderAmountForm(){const e=this.props,t=e.market,a=e.accountBalance,n=e.getAccountExpiration,r=e.stringGetter,o=this.state,l=o.borrowAmountString,s=o.borrowAmount,c=o.isLoading,d=t.totalBorrowAPR,u=Object(L.a)(d).times(100).toFixed(M.d),p=Object(L.a)(t.oraclePrice),b=p.times(Object(I.e)(s,t.currency.decimals)),f=a&&Object(L.a)(a.wei).lt(0),h=n(t),y=Object(W.c)({expiration:h,stringGetter:r}),g=y.timeString,w=y.unitString,O=y.hasExpirationWarning;return i.a.createElement(Y.d,{label:r({key:N.a.AMOUNT})},i.a.createElement(ee.a,{market:t,onClickMax:this.onClickMax,disabled:c,value:l,onChange:this.onChangeBorrowInput}),i.a.createElement(Y.h,null,i.a.createElement(Y.g,null,i.a.createElement(Y.f,{title:r({key:N.a.UNIT_PRICE})},i.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",fixedDecimalScale:!0,decimalScale:M.p,value:p.toString(),prefix:"$"}))),i.a.createElement(Y.g,null,i.a.createElement(Y.f,{title:r({key:N.a.VALUE})},b.eq(0)?"-":i.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",fixedDecimalScale:!0,decimalScale:M.p,value:b.toFormat(M.p),prefix:"$"})))),i.a.createElement(Y.h,null,i.a.createElement(Y.g,null,i.a.createElement(k.a,{className:"line-item-tooltip",top:-24,left:196,tooltip:"balances-interest-rate"},i.a.createElement(Y.f,{noMargins:!0,title:r({key:N.a.INTEREST_RATE_APR})},`${r({key:N.a.PAY})} ${u}%`))),i.a.createElement(Y.g,null,i.a.createElement(Y.f,{title:r({key:N.a.EXPIRY}),red:g&&O&&f},g&&f?`${g} ${w}`:"-"))))}renderDepositForm(){const e=this.props,t=e.market,a=e.markets,n=e.collateralization,o=e.getTokenProtocolAllowance,l=e.stringGetter,s=this.state,c=s.borrowAmount,d=s.depositAmountNaturalValue,u=s.selectedDepositMarket,p=s.isEnableLoading,m=s.setAllowanceMarket,b=s.isLoading,f=this.getNewCollateralization(),h=!this.getIsCollMarketAllowanceSet(),y=z()(ae.c,e=>t.symbol!==e),g=m&&o(m).lte(0);return i.a.createElement(Y.d,{label:l({key:N.a.DEPOSIT})},i.a.createElement("div",{className:"deposit-container"},i.a.createElement("div",{className:"dropdown-container"},i.a.createElement(X.b,{selectedItemKey:u.id,onChangeSelection:this.onChangeCollMarketId,menuItems:r()(y,e=>{return{key:Object(S.c)({allMarkets:a,symbol:e}).id,label:i.a.createElement("div",{className:"dropdown-label"},i.a.createElement("div",{className:"token-icon"},i.a.createElement(V.a,{symbol:e})),e)}})})),h?i.a.createElement(j.b,{grey:!0,loading:p||g,onClick:this.onClickEnableCta},l({key:N.a.ENABLE_SYMBOL,params:{SYMBOL:u.symbol}})):i.a.createElement(ee.a,{disabled:h||b,market:u,onChange:this.onChangeDepositInput,value:d})),i.a.createElement(Y.g,null,i.a.createElement(k.a,{className:"line-item-tooltip",top:-8,left:184,tooltip:"collateralization"},i.a.createElement(Y.f,{noMargins:!0,title:l({key:N.a.ACCOUNT_COLLATERALIZATION})},i.a.createElement(Z.b,{afterText:c.gt(0)&&f.isFinite()?i.a.createElement(J.b,{collateralization:f,red:f&&f.lt(ne.b)}):"",arrow:c.gt(0)&&f.isFinite()?"red":""},i.a.createElement(J.b,{collateralization:n}))))))}renderError(){const e=this.props,t=e.market,a=e.getWalletBalanceByMarket,n=e.stringGetter,r=this.state,o=r.error,l=r.borrowAmount,s=r.depositAmount,c=r.selectedDepositMarket;let d=o;!d&&l.gt(Object(L.a)(t.totalSupplyWei).minus(t.totalBorrowWei))&&(d=n({key:N.a.BORROW_LENDING_LIQUIDITY}));const u=this.getNewCollateralization();!d&&u.lt(ne.b)&&(d=n({key:N.a.BORROW_COLLATERALIZATION}));const p=a(c);return!d&&p.lt(s)&&(d=n({key:N.a.BORROW_INSUFFICIENT_BALANCE,params:{SYMBOL:c.symbol}})),d?i.a.createElement("div",{className:"error"},i.a.createElement(Y.a,null,d)):null}render(){const e=this.props,t=e.accountBalance,a=e.walletType,n=e.market,r=e.walletAddressShort,o=e.stringGetter,l=this.state,s=l.isLoading,c=l.borrowAmount,d=i.a.createElement(V.a,{symbol:n.symbol});let p;p=r?`${Object(oe.b)(a)} ${r}`:o({key:N.a.NOT_CONNECTED});const m=o(c&&c.gt(0)&&c.lte(t.wei)?{key:N.a.WITHDRAW_SYMBOL,params:{SYMBOL:n.symbol}}:{key:N.a.BORROW_SYMBOL,params:{SYMBOL:n.symbol}});return i.a.createElement("div",{className:"component-borrow-modal"},i.a.createElement(Y.c,{icon:d},m),this.renderAmountForm(),this.renderDepositForm(),this.renderError(),i.a.createElement(Y.b,null,i.a.createElement("div",{className:"wallet-info"},i.a.createElement("div",null,i.a.createElement("div",{className:"wallet-info__label"},o({key:N.a.DESTINATION_WALLET})),i.a.createElement("div",{className:u()("wallet-info__address",{red:!r})},p)),a&&i.a.createElement(Q.a,{walletType:a})),i.a.createElement(j.b,{fullWidth:!0,onClick:this.onClickBorrowCta,disabled:!this.getIsCtaEnabled()},s?i.a.createElement(v.a,null):m)))}}se.propTypes={accountBalance:s.a.object.isRequired,closeModal:s.a.func.isRequired,collateralization:s.a.object,depositThenWithdraw:s.a.func.isRequired,getAccountExpiration:s.a.func.isRequired,getDepositFromAddress:s.a.func.isRequired,getIsEth:s.a.func.isRequired,getMarketById:s.a.func.isRequired,getNewCollateralizationWithDeposit:s.a.func.isRequired,getRequiredDeposit:s.a.func.isRequired,getTokenProtocolAllowance:s.a.func.isRequired,getTotalBorrowable:s.a.func.isRequired,getWalletBalanceByMarket:s.a.func.isRequired,market:s.a.object.isRequired,markets:s.a.array.isRequired,onChange:s.a.func,setAllowance:s.a.func.isRequired,stringGetter:s.a.func.isRequired,walletAddress:s.a.string,walletAddressShort:s.a.string,walletType:s.a.string,withdrawToAddress:s.a.string},se.defaultProps={onChange:O.a};var ce=Object(b.k)(Object(c.c)((e,t)=>({accountBalance:Object(P.m)(e,t.market),collateralization:Object(P.n)(e),getAccountExpiration:t=>Object(P.o)(e,t),getDepositFromAddress:t=>Object(A.c)(e,t),getIsEth:e=>Object(S.h)(e),getMarketById:t=>Object(S.f)(e,t),getNewCollateralizationWithDeposit:t=>Object(P.u)(e,t),getRequiredDeposit:({newDebt:t,targetCollateralization:a,depositMarket:n})=>Object(P.p)({state:e,newDebt:t,targetCollateralization:a,depositMarket:n}),getTokenProtocolAllowance:t=>Object(S.g)(e,t),getTotalBorrowable:(a,n)=>Object(P.q)(e,a,t.market,n),getWalletBalanceByMarket:t=>Object(A.n)(e,t),hasBorrowsInMainAccount:Object(P.k)(e),markets:Object(S.d)(e),isWalletConnected:Object(A.u)(e),walletAddress:Object(A.m)(e),walletAddressShort:Object(A.l)(e),withdrawToAddress:Object(A.r)(e,t.market),walletType:Object(A.q)(e)}),e=>Object(E.b)({depositThenWithdraw:te.b,setAllowance:te.c},e))(se)),de=a(4),ue=a.n(de),pe=a(2152);a(2344);class me extends o.Component{renderAccountBalances(){const e=this.props,t=e.getBalanceByMarket,a=e.markets,n=e.borrowMarket,o=e.borrowAmount,l=e.depositMarket,s=e.depositAmount;return i.a.createElement("div",null,r()(ae.c,e=>{const r=Object(S.c)({allMarkets:a,symbol:e}),c=r.id,d=r.symbol,p=r.currency,m=Object(L.a)(ue()(t(r),"wei",0)),b=Object(I.e)(m,p.decimals);let f,h;return n&&o&&o.gt(0)&&n.currency.contractAddress===p.contractAddress?(f=m.minus(o),h="red"):l&&s&&s.gt(0)&&l.currency.contractAddress===p.contractAddress&&(f=m.plus(s),h="green"),i.a.createElement("div",{key:c,className:u()("balance-row",{"balance-row__highlight":f})},i.a.createElement("div",null,d),i.a.createElement("div",null,f?i.a.createElement("div",{className:"diff-container"},i.a.createElement("div",{className:"row-margin-top"},b),i.a.createElement(Z.a,{arrow:h}),i.a.createElement("div",{className:"row-margin-top"},Object(I.e)(f,p.decimals))):b))}))}renderWalletBalances(){const e=this.props,t=e.borrowAmount,a=e.borrowMarket,n=e.depositAmount,o=e.depositMarket,l=e.markets,s=e.stringGetter,c=e.walletBalances;return i.a.createElement("div",null,i.a.createElement("div",{className:"title"},s({key:N.a.WALLET_BALANCES})),r()(ae.c,e=>{const r=Object(S.c)({allMarkets:l,symbol:e}),s=r.id,d=r.symbol,p=r.currency,m=Object(L.a)(ue()(c,`[${"0"===s?"eth":p.contractAddress}]`)),b=Object(I.e)(m,p.decimals);let f,h;return a&&t&&t.gt(0)&&a.id===s?(f=m.plus(t),h="green"):o&&n&&n.gt(0)&&o.id===s&&(f=m.minus(n),h="red"),i.a.createElement("div",{key:s,className:u()("balance-row",{"balance-row__highlight":f})},i.a.createElement("div",null,d),f?i.a.createElement("div",{className:"diff-container"},i.a.createElement("div",{className:"row-margin-top"},b),i.a.createElement(Z.a,{arrow:h}),i.a.createElement("div",{className:"row-margin-top"},Object(I.e)(f,p.decimals))):b)}))}render(){const e=this.props,t=e.areAccountsLoaded,a=e.areWalletBalancesLoaded,n=e.isWalletInvalid,r=e.isWalletReady,l=e.markets,s=e.stringGetter,c=!l||!t||!n&&!a;return i.a.createElement("div",{className:"account-balances-sidebar"},i.a.createElement(pe.a,{isBorrowPage:!0,withBorder:!1}),r&&t&&i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"title"},s({key:N.a.ACCOUNT_BALANCES})),c?i.a.createElement("div",{className:"spinner"},i.a.createElement(v.a,null)):i.a.createElement(o.Fragment,null,this.renderAccountBalances(),a&&this.renderWalletBalances())))}}me.propTypes={areAccountsLoaded:s.a.bool.isRequired,areWalletBalancesLoaded:s.a.bool.isRequired,borrowAmount:s.a.object,borrowMarket:s.a.object,depositAmount:s.a.object,depositMarket:s.a.object,getBalanceByMarket:s.a.func.isRequired,isWalletInvalid:s.a.bool.isRequired,isWalletReady:s.a.bool.isRequired,markets:s.a.array.isRequired,stringGetter:s.a.func.isRequired,walletBalances:s.a.object};var be=Object(b.k)(Object(c.c)(e=>({areAccountsLoaded:Object(P.i)(e),areWalletBalancesLoaded:Object(A.a)(e),getBalanceByMarket:t=>Object(P.m)(e,t),isWalletInvalid:Object(A.v)(e),isWalletReady:Object(A.w)(e),markets:Object(S.d)(e),walletBalances:Object(A.o)(e)}))(me)),fe=a(2181);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var a,n,r=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var he=i.a.createElement("path",{d:"M6 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V3.33333C2 2.97971 2.14048 2.64057 2.39052 2.39052C2.64057 2.14048 2.97971 2 3.33333 2H6",stroke:"white",strokeWidth:2}),ye=i.a.createElement("path",{d:"M10.6667 11.3334L14.0001 8.00002L10.6667 4.66669",stroke:"white",strokeWidth:2}),ge=i.a.createElement("path",{d:"M14 8H6",stroke:"white",strokeWidth:2}),we=function SvgOutstanding(e){var t=e.svgRef,a=_objectWithoutProperties(e,["svgRef"]);return i.a.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t},a),he,ye,ge)},Oe=i.a.forwardRef(function(e,t){return i.a.createElement(we,_extends({svgRef:t},e))});a.p,a(2350);function borrow_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function borrow_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?borrow_ownKeys(a,!0).forEach(function(t){borrow_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):borrow_ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function borrow_defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ee="OUTSTANDING",ve={selectedTab:Ee,selectedMarket:null,borrowAmount:null,depositMarket:null,depositAmount:null};class ke extends o.Component{constructor(e){super(e),this.onClickOutside=(e=>{this.overlayRef.current.contains(e.target)&&!this.modalRef.current.contains(e.target)&&this.closeModal()}),this.closeModal=(()=>{this.setState(borrow_objectSpread({},ve))}),this.handleOnModalChange=(({borrowAmount:e,depositMarket:t,depositAmount:a})=>{this.setState({borrowAmount:e,depositMarket:t,depositAmount:a})}),this.state=borrow_objectSpread({},ve),this.overlayRef=Object(o.createRef)(),this.modalRef=Object(o.createRef)()}componentWillMount(){window.addEventListener("click",this.onClickOutside)}componentWillUnmount(){window.removeEventListener("click",this.onClickOutside)}renderTab(e){const t=this.state.selectedTab,a=e.symbol,n=e.name,r=e.oraclePrice,o=void 0===r?0:r;return i.a.createElement("div",{key:a,tabIndex:0,role:"button",className:u()("tab",{tab__selected:t===a}),onClick:()=>{const t={selectedTab:a,selectedMarket:e};this.setState(a===Ee?ve:t)}},i.a.createElement("div",{className:"tab-label"},a===Ee?i.a.createElement(Oe,null):i.a.createElement(V.a,{symbol:a}),i.a.createElement("div",null,n)),i.a.createElement("div",null,i.a.createElement(m.a,{thousandSeparator:!0,displayType:"text",value:o.toString(),fixedDecimalScale:!0,decimalScale:M.p,prefix:"$"})))}renderLoading(){return i.a.createElement("div",{className:"spinner-container"},i.a.createElement(v.a,null))}renderTabs(){const e=this.props,t=e.markets,a=e.areMarketsLoaded,n=e.isWalletConnecting,o=e.isWalletInvalid,l=e.areWalletBalancesLoaded,s=e.stringGetter,c=e.totalOutstandingBorrow,d=!t||!o&&!l||n;return i.a.createElement("div",{className:"borrow-tabs"},i.a.createElement("div",null,i.a.createElement("div",{className:"tab-header"},s({key:N.a.REPAY_ASSETS})),d?this.renderLoading():this.renderTab({symbol:Ee,name:s({key:N.a.OUTSTANDING}),oraclePrice:c})),i.a.createElement("div",null,i.a.createElement("div",{className:"tab-header"},s({key:N.a.BORROW_ASSETS})),a?r()(ae.c,e=>this.renderTab(Object(S.c)({allMarkets:t,symbol:e}))):this.renderLoading()))}render(){const e=this.state,t=e.selectedTab,a=e.selectedMarket,n=e.borrowAmount,r=e.depositMarket,o=e.depositAmount;return i.a.createElement(fe.a,null,i.a.createElement("div",{className:"borrow-wrapper"},i.a.createElement("div",{className:"borrow"},i.a.createElement(be,{borrowMarket:a,borrowAmount:n,depositMarket:r,depositAmount:o}),this.renderTabs(),i.a.createElement("div",{className:"content"},i.a.createElement(G,null),i.a.createElement("div",{ref:this.overlayRef,className:u()("borrow-modal-overlay",{"borrow-modal-overlay__open":t!==Ee})},i.a.createElement("div",{ref:this.modalRef,className:u()("borrow-modal-container",{"borrow-modal-container__visible":t!==Ee})},t!==Ee&&i.a.createElement(ce,{market:a,onChange:this.handleOnModalChange,closeModal:this.closeModal})))))))}}ke.propTypes={areMarketsLoaded:s.a.bool.isRequired,areWalletBalancesLoaded:s.a.bool.isRequired,isWalletConnecting:s.a.bool.isRequired,isWalletInvalid:s.a.bool.isRequired,markets:s.a.array.isRequired,stringGetter:s.a.func.isRequired,totalOutstandingBorrow:s.a.object.isRequired};t.default=Object(b.k)(Object(c.c)(e=>({areMarketsLoaded:Object(S.e)(e),areWalletBalancesLoaded:Object(A.a)(e),isWalletConnecting:Object(A.e)(e),isWalletInvalid:Object(A.v)(e),markets:Object(S.d)(e),totalOutstandingBorrow:Object(P.x)(e)}))(ke))}}]);